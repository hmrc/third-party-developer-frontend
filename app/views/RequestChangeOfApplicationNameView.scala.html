@*
 * Copyright 2022 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import include._
@import uk.gov.hmrc.thirdpartydeveloperfrontend.domain.models.controllers.Crumb
@import uk.gov.hmrc.thirdpartydeveloperfrontend.domain.models.applications.ApplicationId
@import uk.gov.hmrc.thirdpartydeveloperfrontend.domain.models.developers.DeveloperSession
@import uk.gov.hmrc.apiplatform.modules.submissions.domain.models._
@import uk.gov.hmrc.apiplatform.modules.submissions.controllers.VerifyResponsibleIndividualController.HasVerifiedForm
@import uk.gov.hmrc.apiplatform.modules.submissions.controllers.VerifyResponsibleIndividualController.ViewModel
@import uk.gov.hmrc.thirdpartydeveloperfrontend.domain.models.views.BackButtonWithJavaScript
@import uk.gov.hmrc.thirdpartydeveloperfrontend.controllers.Details.ApplicationName
@this(devMain: DevMain2)

@(model: ApplicationName, form: Form[HasVerifiedForm])(
  implicit request: play.api.mvc.Request[Any], loggedIn: DeveloperSession, messagesProvider: MessagesProvider, applicationConfig: ApplicationConfig
)

@devMain(
  title = "Request a change to the application name",
  userFullName = loggedIn.loggedInName,
  back = BackButtonWithJavaScript,
  developerSession = Some(loggedIn)
) {
  @errorSummary2(form)

  @helper.form(action = routes.Details.requestChangeOfAppNameAction(model.appId), 'class -> "form") {
    @helper.CSRF.formField

    <div class="govuk-form-group @if(form.errors("verified").nonEmpty) {govuk-form-group--error}">

      <h1 class="govuk-heading-l">Request a change to the application name</h1>

      <p class="govuk-body">Call the application something recognisable, like the name of your organisation.</p>

      <p class="govuk-body">If you have customers, we show the application name when they grant authority.</p>

      <p class="govuk-body">Check if the application name follows our <a class="govuk-link govuk-link--no-visited-state" target="_blank" href="/api-documentation/docs/using-the-hub/name-guidelines">naming guidelines (opens in new tab)</a>.</p>

      <p class="govuk-body">Previous application names will become available for others to use.</p>

      <p id="verified-error" class="govuk-error-message">
        <span class="govuk-visually-hidden">Error: </span> @fieldError2(form.errors, "verified", form.error("submissionError").isEmpty)
      </p>

      <p class="govuk-body">
        <input class="govuk-input govuk-input--width-20" id="application-name" type="text">
      </p>
    
      <div class="govuk-button-group"></div>
        <button id="submit-ok" class="govuk-button" type="submit" name="submit-action" value="save-and-continue">Save and continue</button>
        <button id="cancel" class="govuk-button govuk-button--secondary" type="submit" name="submit-action" value="cancel">Cancel</button>
      </div>
    </div>
}
}